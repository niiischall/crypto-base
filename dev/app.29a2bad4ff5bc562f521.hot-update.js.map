{"version":3,"file":"app.29a2bad4ff5bc562f521.hot-update.js","sources":["/Users/geekyants/Desktop/Hackathon-21/crypto-base/src/services/api.ts"],"sourcesContent":["const baseAPI = 'https://pro-api.coinmarketcap.com/';\nconst apiVersion = 'v1';\nconst apiKey = `&CMC_PRO_API_KEY=${process.env.REACT_APP_CMC_KEY}`;\n\nexport const apiEndPoints = {\n  popularCoins: '/cryptocurrency/listings/latest?limit=25',\n  trendingCoins:\n    '/cryptocurrency/listings/latest?percent_change_24h_min=100&sort_dir=desc&limit=25',\n  coinsInfo: '/cryptocurrency/info?slug=',\n};\n\nexport async function fetchApi(\n  endPoint: string,\n  payload?: {} | undefined,\n  method: string = 'get',\n  headers?: {},\n) {\n  let path = `${baseAPI}${apiVersion}${endPoint}${apiKey}`;\n  const headersObject: any = {\n    ...headers,\n  };\n  let request = {\n    body: JSON.stringify(payload),\n    headers: headersObject,\n    method: method.toLowerCase(),\n  };\n\n  try {\n    return fetch(path, request);\n  } catch (e) {\n    const stringError = e && e.toString && e.toString();\n    const type =\n      stringError === 'TypeError: Network request failed'\n        ? 'networkError'\n        : 'unknown';\n    const error = {\n      text: stringError,\n      type,\n    };\n    throw error;\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAJA;AAOA;AAMA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;A","sourceRoot":""}