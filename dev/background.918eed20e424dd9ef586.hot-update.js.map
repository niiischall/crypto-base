{"version":3,"file":"background.918eed20e424dd9ef586.hot-update.js","sources":["/Users/geekyants/Desktop/Hackathon-21/crypto-base/src/background/index.ts"],"sourcesContent":["import db from '../services/firebase';\nimport { onSnapshot, collection } from '@firebase/firestore';\n\nnotificationInBackground();\n\nexport function notificationInBackground() {\n  console.log('Setting up notification!');\n  const signedInUser = localStorage.getItem('userId');\n  if (signedInUser) {\n    onSnapshot(collection(db, 'users'), (snapshot: any) => {\n      const db = snapshot.docs.map((doc: any) => doc.data());\n      const data = db.find((data: any) => data.userId === signedInUser);\n      console.log(data);\n    });\n  }\n  //Setting up alarm for notification.\n  chrome.alarms.create('notificationAlarm', {\n    periodInMinutes: 1,\n  });\n\n  //Firing notification upon that alarm.\n  chrome.alarms.onAlarm.addListener((alarm) => {\n    const message = `Bitcoin is currently trading at $45,989. \\nEethereum is currently tading at $35,000. \\nSolana is currently trading at $45.`;\n\n    if (alarm.name === 'notificationAlarm') {\n      chrome.notifications.create('price change', {\n        type: 'basic',\n        iconUrl: 'img/icon-128.png',\n        title: 'Price Change Notification',\n        message: message,\n        priority: 2,\n      });\n    }\n  });\n}\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;;;;A","sourceRoot":""}