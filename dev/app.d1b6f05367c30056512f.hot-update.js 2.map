{"version":3,"file":"app.d1b6f05367c30056512f.hot-update.js","sources":["/Users/geekyants/Desktop/Hackathon-21/crypto-base/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport db from './services/firebase';\nimport { onSnapshot, collection } from '@firebase/firestore';\n\nimport Header from './components/Header';\nimport Layout from './pages/Layout';\nimport Navigation from './components/Navigation';\n\nimport { pages, PageProvider } from './services/context';\nimport { checkAuthState } from './store/actions/actionProfile';\n\nexport interface Props {}\n\nconst useStyles = makeStyles((theme) => ({\n  appContainer: {\n    width: 360,\n    height: 600,\n    backgroundColor: '#F8F8F8',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n}));\n\nexport const App: React.FC<Props> = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const userId = useSelector((state: any) => state.profile.userId);\n\n  const [page, setPage] = useState<string>(pages.home);\n  const handlePageChange = (event: any, newValue: string) => setPage(newValue);\n\n  //Check for Auth State.\n  useEffect(() => {\n    dispatch(checkAuthState());\n  }, [dispatch]);\n\n  //Check for realtime database updates.\n  useEffect(() => {\n    if (userId) {\n      onSnapshot(collection(db, 'users'), (snapshot: any) => {\n        const db = snapshot.docs.filter((doc: any) => doc.data());\n        console.log(db);\n        const userData = db.filter((data: any) => data.userId === userId);\n        console.log('User: ');\n        console.log(userData);\n      });\n    }\n  }, [dispatch, userId]);\n\n  return (\n    <div className={classes.appContainer}>\n      <PageProvider\n        value={{\n          page,\n          switchPage: handlePageChange,\n        }}\n      >\n        <Header />\n        <Layout />\n        <Navigation />\n      </PageProvider>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAWA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAaA;AAEA;;;;A","sourceRoot":""}