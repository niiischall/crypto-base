{"version":3,"file":"app.01f7e5df446954fd1922.hot-update.js","sources":["/Users/geekyants/Desktop/Hackathon-21/crypto-base/src/services/api.ts"],"sourcesContent":["const baseCoinAPI = 'https://pro-api.coinmarketcap.com/';\nconst baseAuthAPI = 'https://identitytoolkit.googleapis.com/';\nconst baseFirebaseAPI =\n  'https://crypto-base-db-default-rtdb.asia-southeast1.firebasedatabase.app/coins.json';\n\nconst apiVersion = 'v1';\nconst authVersion = 'v1';\n\nconst apiKey = `&CMC_PRO_API_KEY=${process.env.REACT_APP_CMC_KEY}`;\nconst authKey = `?key=${process.env.REACT_APP_AUTH_KEY}`;\nconst firebaseKey = `?auth=${process.env.REACT_APP_FIREBASE_KEY}`;\n\nexport const apiEndPoints = {\n  totalCoins:\n    '/cryptocurrency/map?sort=cmc_rank&limit=500&listing_status=active',\n  popularCoins: '/cryptocurrency/listings/latest?limit=25',\n  trendingCoins:\n    '/cryptocurrency/listings/latest?sort=percent_change_24h&limit=25',\n  coinsInfo: '/cryptocurrency/info?slug=',\n  signUp: `/accounts:signUp`,\n  signIn: `/accounts:signInWithPassword`,\n};\n\nexport async function fetchApi(\n  endPoint: string,\n  payload?: {} | undefined,\n  method: string = 'get',\n  headers?: {},\n) {\n  let path = `${baseCoinAPI}${apiVersion}${endPoint}${apiKey}`;\n  const headersObject: any = {\n    ...headers,\n  };\n  let request = {\n    body: JSON.stringify(payload),\n    headers: headersObject,\n    method: method.toLowerCase(),\n  };\n\n  try {\n    return fetch(path, request);\n  } catch (e: any) {\n    const stringError = e && e.toString && e.toString();\n    const type =\n      stringError === 'TypeError: Network request failed'\n        ? 'networkError'\n        : 'unknown';\n    const error = {\n      text: stringError,\n      type,\n    };\n    throw error;\n  }\n}\n\nexport async function authApi(\n  endPoint: string,\n  method: string,\n  payload: {},\n  headers?: {},\n) {\n  const path = `${baseAuthAPI}${authVersion}${endPoint}${authKey}`;\n  const headersObject: any = {\n    ...headers,\n  };\n  let request = {\n    body: JSON.stringify(payload),\n    headers: headersObject,\n    method: method.toLowerCase(),\n  };\n\n  try {\n    return fetch(path, request);\n  } catch (e: any) {\n    const stringError = e && e.toString && e.toString();\n    const type =\n      stringError === 'TypeError: Network request failed'\n        ? 'networkError'\n        : 'unknown';\n    const error = {\n      text: stringError,\n      type,\n    };\n    throw error;\n  }\n}\n\nexport async function firebaseAPI(method: string, payload: {}, headers?: {}) {\n  const path = `${baseFirebaseAPI}${firebaseKey}`;\n  const headersObject: any = {\n    ...headers,\n  };\n  let request = {\n    body: JSON.stringify(payload),\n    headers: headersObject,\n    method: method.toLowerCase(),\n  };\n\n  try {\n    return fetch(path, request);\n  } catch (e: any) {\n    const stringError = e && e.toString && e.toString();\n    const type =\n      stringError === 'TypeError: Network request failed'\n        ? 'networkError'\n        : 'unknown';\n    const error = {\n      text: stringError,\n      type,\n    };\n    throw error;\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AARA;AAWA;AAMA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AAMA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;A","sourceRoot":""}