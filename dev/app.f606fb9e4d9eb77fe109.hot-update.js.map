{"version":3,"file":"app.f606fb9e4d9eb77fe109.hot-update.js","sources":["/Users/geekyants/Desktop/Hackathon-21/crypto-base/src/store/actions/actions.ts"],"sourcesContent":["import { Dispatch } from 'redux';\n\nimport * as types from './actionTypes';\nimport { apiEndPoints, fetchApi } from '../../services/api';\n\nconst getLatestListingsSuccess = (listings: any[]) => {\n  return {\n    type: types.FETCH_LATEST_LISTINGS_SUCCESS,\n    listings,\n  };\n};\n\nconst getLatestListingsFailure = (error: string) => {\n  return {\n    type: types.FETCH_LATEST_LISTINGS_FAILURE,\n    error,\n  };\n};\n\nexport const getLatestListings = () => {\n  return async (dispatch: Dispatch<any>) => {\n    try {\n      const response = await fetchApi(apiEndPoints.latestListing);\n      if (response.ok) {\n        const json = await response.json();\n        dispatch(getLatestListingsSuccess(json.data));\n      } else {\n        dispatch(\n          getLatestListingsFailure(\n            'Unable to fetch latest cryptocurrency market listings.',\n          ),\n        );\n      }\n    } catch (error) {\n      dispatch(\n        getLatestListingsFailure(\n          'Unable to fetch latest cryptocurrency market listings.',\n        ),\n      );\n    }\n  };\n};\n\nconst getCoinsInfoSuccess = (coinsInfo: {}) => {\n  console.log(coinsInfo);\n  return {\n    type: types.FETCH_COINS_INFO_SUCCESS,\n    coinsInfo,\n  };\n};\n\nconst getCoinsInfoFailure = (error: string) => {\n  return {\n    type: types.FETCH_COINS_INFO_FAILURE,\n    error,\n  };\n};\n\nexport const getCoinsInfo = (coins: any[]) => {\n  return async (dispatch: Dispatch<any>) => {\n    const requestURL = `${apiEndPoints.listingInfo}${coins.join(',')}`;\n    try {\n      const response = await fetchApi(requestURL);\n      if (response.ok) {\n        const json = await response.json();\n        dispatch(getCoinsInfoSuccess(json.data));\n      } else {\n        dispatch(getCoinsInfoFailure('Unable to fetch respective coin info.'));\n      }\n    } catch (error) {\n      dispatch(getCoinsInfoFailure('Unable to fetch respective coin info.'));\n    }\n  };\n};\n"],"mappings":";;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}