{"version":3,"file":"app.ade47a29f475a47922b9.hot-update.js","sources":["/Users/geekyants/Desktop/Hackathon-21/crypto-base/src/services/api.ts"],"sourcesContent":["const baseCoinAPI = 'https://pro-api.coinmarketcap.com/';\nconst baseAuthAPI = 'https://identitytoolkit.googleapis.com/';\nconst apiVersion = 'v1';\nconst apiKey = `&CMC_PRO_API_KEY=${process.env.REACT_APP_CMC_KEY}`;\nconst authKey = `?key=${process.env.REACT_APP_AUTH_KEY}`;\n\nexport const apiEndPoints = {\n  totalCoins:\n    '/cryptocurrency/map?sort=cmc_rank&limit=500&listing_status=active',\n  popularCoins: '/cryptocurrency/listings/latest?limit=25',\n  trendingCoins:\n    '/cryptocurrency/listings/latest?sort=percent_change_24h&limit=25',\n  coinsInfo: '/cryptocurrency/info?slug=',\n  signUp: `/accounts:signUp${authKey}`,\n  signIn: `/accounts:signInWithPassword${authKey}`,\n};\n\nexport async function fetchApi(\n  endPoint: string,\n  payload?: {} | undefined,\n  method: string = 'get',\n  headers?: {},\n) {\n  let path = `${baseCoinAPI}${apiVersion}${endPoint}${apiKey}`;\n  if (isAuth) {\n    path = `${baseAuthAPI}${apiVersion}${endPoint}${authKey}`;\n  }\n  const headersObject: any = {\n    ...headers,\n  };\n  let request = {\n    body: JSON.stringify(payload),\n    headers: headersObject,\n    method: method.toLowerCase(),\n  };\n\n  try {\n    return fetch(path, request);\n  } catch (e: any) {\n    const stringError = e && e.toString && e.toString();\n    const type =\n      stringError === 'TypeError: Network request failed'\n        ? 'networkError'\n        : 'unknown';\n    const error = {\n      text: stringError,\n      type,\n    };\n    throw error;\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AARA;AAWA;AAMA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;A","sourceRoot":""}